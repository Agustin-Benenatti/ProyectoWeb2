extends layout

block head 
  style.
    .btn-editar {
    background-color: #1976d2;  
    color: white;
    padding: 5px 12px;
    border-radius: 5px;
    text-decoration: none;
    margin-right: 8px;
    font-weight: 600;
    transition: background-color 0.3s ease;
    }
    .btn-editar:hover {
    background-color: #115293;  
    }

    .btn-eliminar {
    background-color: #d32f2f; 
    color: white;
    padding: 5px 12px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: 600;
    transition: background-color 0.3s ease;
    }
    .btn-eliminar:hover {
    background-color: #9a2222; 
    }
    th:last-child {
      text-align: center !important;
    }

    
    td:last-child {
      text-align: center;
    }

    td:last-child > a {
      margin: 0 4px;
      display: inline-block;
    }



block content
  h1 Gestión de pacientes
  p Acá podremos administrar los datos de los pacientes.

  
  link(rel='stylesheet', href='https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css')

  table#tablaPacientes.display
    thead
      tr
        th Nombre
        th Apellido
        th Sexo
        th DNI
        th Obra Social
        th Fecha de Nacimiento
        th Dirección
        th Teléfono
        th Estado
        th Acciones
        
        
    tbody
      each paciente in pacientes
        tr
          td= paciente.nombre
          td= paciente.apellido
          td= paciente.sexo
          td= paciente.dni
          td= paciente.ObraSocial ? paciente.ObraSocial.nombre : 'No tiene'
          td= paciente.fecha_nacimiento.toISOString().split('T')[0]
          td= paciente.direccion
          td= paciente.telefono
          td= paciente.estado ? 'Activo' : 'Inactivo'
          td 
            a(href=`/pacientes/editar/${paciente.id_paciente}`, class='btn-editar') Modificar
            a(href=`/pacientes/baja/${paciente.id_paciente}`, class='btn-eliminar', onclick='return confirm("¿Estás seguro que querés dar de baja a este paciente?");')= paciente.estado ? 'Baja' : 'Activar'
          

  // Scripts: fuera del tbody
  script(src='https://code.jquery.com/jquery-3.6.0.min.js')
  script(src='https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js')
  script.
    $(document).ready(function () {
      $('#tablaPacientes').DataTable({
        responsive: true,
        language: {
          url: 'https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json'
        }
      });
    });
